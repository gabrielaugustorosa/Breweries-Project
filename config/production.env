# Production Environment Configuration for Medallion Architecture Pipeline

# MinIO Configuration (Required)
MINIO_ENDPOINT=your-minio-endpoint.com:9000
MINIO_ACCESS_KEY=your-access-key
MINIO_SECRET_KEY=your-secret-key  
MINIO_SECURE=true

# Bucket Configuration
BRONZE_BUCKET=bronze
SILVER_BUCKET=silver
GOLD_BUCKET=gold

# Spark Configuration
SPARK_SQL_SHUFFLE_PARTITIONS=200
SPARK_EXECUTOR_MEMORY=4g
SPARK_DRIVER_MEMORY=2g
SPARK_EXECUTOR_INSTANCES=4
SPARK_MAX_EXECUTORS=20
SPARK_DYNAMIC_ALLOCATION=true
SPARK_LOG_LEVEL=WARN

# Airflow Configuration
AIRFLOW_TEMP_DIR=/opt/airflow/temp
AIRFLOW__CORE__PARALLELISM=32
AIRFLOW__CORE__DAG_CONCURRENCY=16
AIRFLOW__CORE__MAX_ACTIVE_RUNS_PER_DAG=1

# Data Quality Thresholds
MIN_RECORDS_BRONZE=1
MIN_RECORDS_SILVER=1
MIN_RECORDS_GOLD=1

# API Configuration
API_REQUEST_TIMEOUT=30
API_RETRY_ATTEMPTS=3
API_BACKOFF_FACTOR=2

# Monitoring and Alerting
ENABLE_METRICS=true
METRICS_PORT=8080
LOG_LEVEL=INFO

# Security
ENCRYPT_TEMP_FILES=false
SSL_VERIFY=true

# Performance Tuning
PARQUET_COMPRESSION=snappy
TEMP_FILE_RETENTION_HOURS=24
MAX_MEMORY_FRACTION=0.8